{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst BASE_URL= \"https://pixabay.com/api/\";\nconst API_KEY = \"41911500-2109ce3c8bb16633259977e96\";\n\nconst container = document.querySelector('.gallery');\nconst form = document.querySelector('.search-form');\nconst input= document.querySelector('.search-input');\nconst startBtn= document.querySelector('.start-btn');\n\nconst url = `${BASE_URL}?key=41911500-2109ce3c8bb16633259977e96&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true&per_page=9`;\n\n\nform.addEventListener('submit', handleSearch)\n\nfunction handleSearch(event){\n    event.preventDefault();\n    container.innerHTML = '';\n    const inputValue = event.target.elements.input.value;\n    fetchImage(inputValue)\n    .then(data => {\n        if(!data.hits.lenght){\n            iziToast.error({\n                title: 'Error',\n                message:\n                  'Sorry, there are no images matching your search query. Please try again!',\n              });\n        }\n        container.innerHTML= ('beforeend', createMarkup(data.hits));\n        const refreshPage = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n          refreshPage.refresh();\n          form.reset();\n        })\n    .catch(onFetchError)\n}\n\nfunction fetchImage(name){\n    return fetch(`${url}}`).then((resp)=> {\n        if(!resp.ok){\n            throw new Errow(resp.statusText);\n        }\n        return resp.json();\n    })\n    \n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads, }) => `\n  <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src==\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n    <p class= \"gallery-descr\">Likes: ${likes} Views: ${views} Comments: ${comments}</span> Downloads:${downloads}</p>\n  </a>\n</li>\n  `\n    )\n    .join('');\n}\n\nfunction onFetchError(error){\n    alert(\"Error\")\n}\n    "],"names":["BASE_URL","container","form","url","handleSearch","event","fetchImage","data","iziToast","createMarkup","SimpleLightbox","onFetchError","name","resp","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","error"],"mappings":"6vBAOA,MAAMA,EAAU,2BAGVC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAO,SAAS,cAAc,cAAc,EACrC,SAAS,cAAc,eAAe,EACnC,SAAS,cAAc,YAAY,EAEnD,MAAMC,EAAM,GAAGH,8CAAqD,gFAGpEE,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAM,CACxBA,EAAM,eAAc,EACpBJ,EAAU,UAAY,GACHI,EAAM,OAAO,SAAS,MAAM,MAC/CC,EAAqB,EACpB,KAAKC,GAAQ,CACNA,EAAK,KAAK,QACVC,EAAS,MAAM,CACX,MAAO,QACP,QACE,0EAClB,CAAe,EAEPP,EAAU,UAAyBQ,EAAaF,EAAK,IAAI,EACrC,IAAIG,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,GAC1B,CAAW,EACW,QAAO,EACnBR,EAAK,MAAK,CACpB,CAAS,EACJ,MAAMS,CAAY,CACvB,CAEA,SAASL,EAAWM,EAAK,CACrB,OAAO,MAAM,GAAGT,IAAM,EAAE,KAAMU,GAAQ,CAClC,GAAG,CAACA,EAAK,GACL,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEnC,OAAOA,EAAK,MACpB,CAAK,CAEL,CAEA,SAASJ,EAAaK,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EACD,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAAY,IAAK;AAAA;AAAA,kCAESL;AAAA;AAAA;AAAA,cAGpBD;AAAA,aACDE;AAAA;AAAA,uCAE0BC,YAAgBC,eAAmBC,sBAA6BC;AAAA;AAAA;AAAA,GAIlG,EACA,KAAK,EAAE,CACZ,CAEA,SAASV,EAAaW,EAAM,CACxB,MAAM,OAAO,CACjB"}